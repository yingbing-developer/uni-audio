{"version":3,"sources":["webpack:///G:/my-project/uni-audio/uni_modules/yingbing-audio/components/yingbing-lyric/yingbing-lyric.vue?2d96","webpack:///G:/my-project/uni-audio/uni_modules/yingbing-audio/components/yingbing-lyric/yingbing-lyric.vue?c04e","webpack:///G:/my-project/uni-audio/uni_modules/yingbing-audio/components/yingbing-lyric/yingbing-lyric.vue?9f55","webpack:///G:/my-project/uni-audio/uni_modules/yingbing-audio/components/yingbing-lyric/yingbing-lyric.vue?6d7e","uni-app:///uni_modules/yingbing-audio/components/yingbing-lyric/yingbing-lyric.vue"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAA2H;AAC3H;AACkE;AACL;;;AAG7D;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,oFAAM;AACR,EAAE,yFAAM;AACR,EAAE,kGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,6FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAwmB,CAAgB,koBAAG,EAAC,C;;;;;;;;;;;;;;;;ACI5nB,e;AACA;AACA;AACA;AACA;AACA,iBADA;AAEA,aAFA,sBAEA;AACA;AACA,OAJA,EAFA;;AAQA;AACA;AACA,mBADA;AAEA,oBAFA,EATA;;AAaA;AACA;AACA,kBADA;AAEA,gBAFA,EAdA;;AAkBA;AACA;AACA,kBADA;AAEA,qBAFA,EAnBA;;AAuBA;AACA;AACA,kBADA;AAEA,wBAFA,EAxBA;;AA4BA;AACA;AACA,kBADA;AAEA,wBAFA,EA7BA;;AAiCA;AACA;AACA,2BADA;AAEA,aAFA,sBAEA;AACA;AACA,OAJA,EAlCA;;AAwCA;AACA;AACA,kBADA;AAEA,gCAFA,EAzCA;;AA6CA;AACA;AACA,kBADA;AAEA,iBAFA,EA9CA;;AAkDA;AACA;AACA,kBADA;AAEA,uBAFA,EAnDA;;AAuDA;AACA;AACA,2BADA;AAEA,aAFA,sBAEA;AACA;AACA,OAJA,EAxDA,EADA;;;AAgEA;AACA;AACA,iBAFA,2BAEA;AACA;AACA,KAJA;AAKA;AACA,iBANA,2BAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mIAZA;;AAcA;AACA;AACA,KA7BA;AA8BA,aA9BA,uBA8BA;;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA,KAxDA,EAhEA;;AA0HA,SA1HA,qBA0HA;;;;AAIA,GA9HA;AA+HA;AACA,aADA,uBACA;AACA;;;;;;;;;;;;;;;;;;AAkBA;AACA,KArBA;AAsBA,aAtBA,uBAsBA;AACA;;;;;;;AAOA;AACA,KA/BA;AAgCA,gBAhCA,0BAgCA;AACA;;;;;;;AAOA;AACA;;AAEA,KA3CA,EA/HA;;AA4KA;AACA,UADA,kBACA,MADA,EACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA,KARA;AASA;AACA,aADA,mBACA,MADA,EACA;AACA;AACA,uBADA;AAEA,mCAFA;;AAIA,OANA,EATA;;AAiBA,iBAjBA,2BAiBA;AACA;AACA,KAnBA;AAoBA,SApBA,iBAoBA,MApBA,EAoBA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA,KA3BA;AA4BA,YA5BA,sBA4BA;AACA;AACA,KA9BA;AA+BA,aA/BA,uBA+BA;AACA;AACA,KAjCA;AAkCA,eAlCA,yBAkCA;AACA;AACA,KApCA;AAqCA,UArCA,oBAqCA;AACA;AACA,KAvCA;AAwCA,iBAxCA,2BAwCA;AACA;AACA,KA1CA,EA5KA;;AAwNA,eAxNA,2BAwNA;AACA;AACA,GA1NA,E","file":"uni_modules/yingbing-audio/components/yingbing-lyric/yingbing-lyric.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./yingbing-lyric.vue?vue&type=template&id=6e68b93e&\"\nvar renderjs\nimport script from \"./yingbing-lyric.vue?vue&type=script&lang=js&\"\nexport * from \"./yingbing-lyric.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"uni_modules/yingbing-audio/components/yingbing-lyric/yingbing-lyric.vue\"\nexport default component.exports","export * from \"-!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./yingbing-lyric.vue?vue&type=template&id=6e68b93e&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./yingbing-lyric.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./yingbing-lyric.vue?vue&type=script&lang=js&\"","<template>\n</template>\n\n<script>\r\n\tlet musicLyric\r\n\texport default {\r\n\t\tprops: {\r\n\t\t\t//歌词列表\r\n\t\t\tlyric: {\r\n\t\t\t\ttype: Array,\r\n\t\t\t\tdefault () {\r\n\t\t\t\t\treturn new Array\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//是否展示全局歌词 仅支持app端和h5端\r\n\t\t\tisShow: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\t//当前播放位置\r\n\t\t\tcurrentTime: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0\r\n\t\t\t},\r\n\t\t\t//没有歌词但要展示全局歌词时的默认文字\r\n\t\t\ttitle: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '暂无歌词'\r\n\t\t\t},\r\n\t\t\t//歌词颜色\r\n\t\t\tfontColor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '#2ca2f9'\r\n\t\t\t},\r\n\t\t\t//歌词描边颜色\r\n\t\t\tstrokeColor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '#333333'\r\n\t\t\t},\r\n\t\t\t//歌词大小\r\n\t\t\tfontSize: {\r\n\t\t\t\ttype: Number|String,\r\n\t\t\t\tdefault () {\r\n\t\t\t\t\treturn uni.upx2px(35)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//歌词字体\r\n\t\t\tfontFamily: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'Times New Roman'\r\n\t\t\t},\r\n\t\t\t//歌词字体文件路径 仅支持app端\r\n\t\t\tfontSrc: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\t//上下定位 top|bottom 上|下\r\n\t\t\tverticalAlign: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'bottom'\r\n\t\t\t},\r\n\t\t\t//定位的偏移量\r\n\t\t\toffset: {\r\n\t\t\t\ttype: Number|String,\r\n\t\t\t\tdefault () {\r\n\t\t\t\t\treturn uni.upx2px(15)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t//当前歌词字符串\r\n\t\t\tlyricNowTitle () {\r\n\t\t\t\treturn this.lyric.length > 0 && this.lyricNowIndex > -1 ? this.lyric[this.lyricNowIndex].title.replace('\\n', '') : this.title;\r\n\t\t\t},\r\n\t\t\t//当前歌词位置索引\r\n\t\t\tlyricNowIndex () {\r\n\t\t\t\tlet len = this.lyric.length;\r\n\t\t\t\tlet nowLyricTime = 0;\r\n\t\t\t\tlet prevLyricTime = 0;\r\n\t\t\t\tlet nextLyricTime = 0;\r\n\t\t\t\tfor ( let i = 0; i < len; i++ ) {\r\n\t\t\t\t\tnowLyricTime = this.lyric[i].time;\r\n\t\t\t\t\tswitch(i) {\r\n\t\t\t\t\t    case 0:\r\n\t\t\t\t\t\t\tnextLyricTime = this.lyric[i + 1].time;\r\n\t\t\t\t\t        if ( this.currentTime < nextLyricTime && this.currentTime >= nowLyricTime ) return i;\r\n\t\t\t\t\t        break;\r\n\t\t\t\t\t    case this.lyric.length - 1:\r\n\t\t\t\t\t\t\tprevLyricTime = this.lyric[i - 1].time;\r\n\t\t\t\t\t        if ( this.currentTime > prevLyricTime && this.currentTime >= nowLyricTime ) return i;\r\n\t\t\t\t\t        break;\r\n\t\t\t\t\t    default:\r\n\t\t\t\t\t\t\tprevLyricTime = this.lyric[i - 1].time;\r\n\t\t\t\t\t\t\tnextLyricTime = this.lyric[i + 1].time;\r\n\t\t\t\t\t\t\tif ( this.currentTime > prevLyricTime && this.currentTime < nextLyricTime && this.currentTime >= nowLyricTime ) return i;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn -1;\r\n\t\t\t},\r\n\t\t\tlyricLine () {\r\n\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\treturn [{\r\n\t\t\t\t\ttag:'font', id:'lyricBorder', text: this.lyricNowTitle, textStyles: {family: this.fontFamily, fontSrc: this.fontSrc, whiteSpace: 'normal', size: this.fontSize + 'px', color: this.strokeColor, verticalAlign: this.verticalAlign, weight: 'bold'}\r\n\t\t\t\t},{\r\n\t\t\t\t\ttag:'font', id:'lyric', text: this.lyricNowTitle, textStyles: {family: this.fontFamily, fontSrc: this.fontSrc, whiteSpace: 'normal', size: this.fontSize + 'px', color: this.fontColor, verticalAlign: this.verticalAlign}\r\n\t\t\t\t}]\r\n\t\t\t\t// #endif\r\n\t\t\t\t// #ifdef H5\r\n\t\t\t\treturn `<div\r\n\t\t\t\tstyle=\"\r\n\t\t\t\tfont-size: ${this.fontSize}px;\r\n\t\t\t\tcolor: ${this.fontColor};\r\n\t\t\t\tfont-family: ${this.fontFamily};\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t\twhite-space: normal;\r\n\t\t\t\t${this.verticalAlign}: ${this.offset}px;\r\n\t\t\t\tleft: 5%;\r\n\t\t\t\tright: 5%;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tz-index: 99999999999;\r\n\t\t\t\tword-break: break-all;\r\n\t\t\t\ttext-shadow: ${this.strokeColor} .5px 0 0,${this.strokeColor} 0 .5px 0,${this.strokeColor} -0.5px 0 0,${this.strokeColor} 0 -0.5px 0;\"\r\n\t\t\t\t>${this.lyricNowTitle}</div>`\r\n\t\t\t\t// #endif\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated () {\r\n\t\t\t// #ifdef APP-PLUS || H5\r\n\t\t\tthis.initLyric()\r\n\t\t\t// #endif\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tinitLyric () {\r\n\t\t\t\tif ( this.isShow && this.lyric ) {\r\n\t\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\t\tmusicLyric = this.verticalAlign == 'bottom' ? new plus.nativeObj.View('line',{\r\n\t\t\t\t\t\tbottom: this.offset + 'px',left:'5%', width: '90%'\r\n\t\t\t\t\t}, this.lyricLine) : new plus.nativeObj.View('line',{\r\n\t\t\t\t\t\ttop: this.offset + 'px',left:'5%', width: '90%'\r\n\t\t\t\t\t}, this.lyricLine);\r\n\t\t\t\t\tmusicLyric.interceptTouchEvent(false);\r\n\t\t\t\t\tmusicLyric.show()\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\t// #ifdef H5\r\n\t\t\t\t\tlet dom = document.createElement('div')\r\n\t\t\t\t\tdom.id = 'yingbing-lyric'\r\n\t\t\t\t\tdom.style = `pointer-events: none;`\r\n\t\t\t\t\tdocument.body.appendChild(dom)\r\n\t\t\t\t\tmusicLyric = document.getElementById('yingbing-lyric')\r\n\t\t\t\t\tmusicLyric.innerHTML = this.lyricLine\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdrawLyric () {\r\n\t\t\t\tif ( musicLyric ) {\r\n\t\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\t\tmusicLyric.draw(this.lyricLine)\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\t// #ifdef H5\r\n\t\t\t\t\tmusicLyric.innerHTML = this.lyricLine\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdestroyLyric () {\r\n\t\t\t\tif ( musicLyric ) {\r\n\t\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\t\tmusicLyric.close();\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\t// #ifdef H5\r\n\t\t\t\t\tdocument.body.removeChild(musicLyric)\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\tmusicLyric = null;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tisShow (newVal) {\r\n\t\t\t\tif ( newVal ) {\r\n\t\t\t\t\tthis.destroyLyric()\r\n\t\t\t\t\tthis.initLyric();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.destroyLyric()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tlyricNowIndex: {\r\n\t\t\t\thandler (newVal) {\r\n\t\t\t\t\tthis.$emit('lyricChange', {\r\n\t\t\t\t\t\tindex: newVal,\r\n\t\t\t\t\t\ttitle: this.lyricNowTitle\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tlyricNowTitle () {\r\n\t\t\t\tthis.drawLyric()\r\n\t\t\t},\r\n\t\t\tlyric (newVal) {\r\n\t\t\t\tif ( newVal ) {\r\n\t\t\t\t\tthis.destroyLyric()\r\n\t\t\t\t\tthis.initLyric();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.destroyLyric()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tfontSize () {\r\n\t\t\t\tthis.drawLyric()\r\n\t\t\t},\r\n\t\t\tfontColor () {\r\n\t\t\t\tthis.drawLyric()\r\n\t\t\t},\r\n\t\t\tstrokeColor () {\r\n\t\t\t\tthis.drawLyric()\r\n\t\t\t},\r\n\t\t\toffset () {\r\n\t\t\t\tthis.drawLyric()\r\n\t\t\t},\r\n\t\t\tverticalAlign () {\r\n\t\t\t\tthis.drawLyric()\r\n\t\t\t}\r\n\t\t},\r\n\t\tbeforeDestroy() {\r\n\t\t\tthis.destroyLyric()\r\n\t\t}\r\n\t}\n</script>\n\n<style>\r\n</style>\n"],"sourceRoot":""}